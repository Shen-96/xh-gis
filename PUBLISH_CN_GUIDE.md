# ğŸ‡¨ğŸ‡³ å›½å†…ç”¨æˆ·å‘å¸ƒæŒ‡å—

## ğŸ“‹ é—®é¢˜è¯´æ˜

ç”±äºå›½å†…ç½‘ç»œç¯å¢ƒé™åˆ¶ï¼Œå¾ˆå¤šå¼€å‘è€…ä½¿ç”¨äº†NPMé•œåƒæºï¼ˆå¦‚æ·˜å®é•œåƒï¼‰ï¼Œè¿™ä¼šå¯¼è‡´å‘å¸ƒæ—¶å‡ºç°é—®é¢˜ï¼š

- âŒ æ— æ³•å‘å¸ƒåŒ…åˆ°é•œåƒæºï¼ˆé•œåƒæºæ˜¯åªè¯»çš„ï¼‰
- âŒ `npm login` å¤±è´¥
- âŒ å‘å¸ƒæƒé™é—®é¢˜

## ğŸ›  è§£å†³æ–¹æ¡ˆ

æˆ‘ä»¬æä¾›äº†ä¸“é—¨çš„å›½å†…ç¯å¢ƒå‘å¸ƒå·¥å…·æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚

### æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨è‡ªåŠ¨å‘å¸ƒè„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨å›½å†…ç¯å¢ƒä¸“ç”¨å‘å¸ƒè„šæœ¬
./publish-cn.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. ä¸´æ—¶åˆ‡æ¢åˆ°å®˜æ–¹NPMæº
2. æ‰§è¡Œå‘å¸ƒæµç¨‹
3. è‡ªåŠ¨æ¢å¤åŸå§‹é•œåƒæºé…ç½®

### æ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨åˆ‡æ¢æº

```bash
# 1. åˆ‡æ¢åˆ°å®˜æ–¹æº
./registry.sh official

# 2. ç™»å½•NPMå®˜æ–¹æº
npm login

# 3. æ‰§è¡Œå‘å¸ƒ
./publish.sh

# 4. åˆ‡æ¢å›å›½å†…é•œåƒæº
./registry.sh taobao
```

## ğŸ”§ é•œåƒæºç®¡ç†å·¥å…·

æˆ‘ä»¬æä¾›äº†ä¾¿æ·çš„é•œåƒæºç®¡ç†å·¥å…·ï¼š

```bash
# æŸ¥çœ‹å½“å‰é…ç½®
./registry.sh current

# åˆ‡æ¢åˆ°å®˜æ–¹æº
./registry.sh official

# åˆ‡æ¢åˆ°æ·˜å®é•œåƒ
./registry.sh taobao

# æµ‹è¯•å½“å‰æºçš„è¿æ¥é€Ÿåº¦
./registry.sh test

# æŸ¥çœ‹å¸®åŠ©
./registry.sh help
```

## ğŸš€ å®Œæ•´å‘å¸ƒæµç¨‹

### é¦–æ¬¡å‘å¸ƒ

1. **å‡†å¤‡NPMè´¦æˆ·**
   ```bash
   # æ³¨å†Œè´¦æˆ·ï¼ˆåœ¨æµè§ˆå™¨ä¸­ï¼‰
   https://www.npmjs.com/signup
   ```

2. **é…ç½®å’Œç™»å½•**
   ```bash
   # ä¸´æ—¶åˆ‡æ¢åˆ°å®˜æ–¹æº
   ./registry.sh official
   
   # ç™»å½•NPM
   npm login
   ```

3. **æ‰§è¡Œå‘å¸ƒ**
   ```bash
   # ä½¿ç”¨å›½å†…ä¸“ç”¨å‘å¸ƒè„šæœ¬
   ./publish-cn.sh
   ```

### åç»­ç‰ˆæœ¬å‘å¸ƒ

1. **æ›´æ–°ç‰ˆæœ¬å·**
   ```bash
   ./version.sh 1.0.1
   ```

2. **é‡æ–°æ„å»º**
   ```bash
   pnpm install
   pnpm run build:packages
   pnpm run build
   ```

3. **å‘å¸ƒæ–°ç‰ˆæœ¬**
   ```bash
   ./publish-cn.sh
   ```

## ğŸ“¦ ç”¨æˆ·å®‰è£…æŒ‡å—

å‘å¸ƒæˆåŠŸåï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®‰è£…ï¼š

### ä½¿ç”¨é»˜è®¤é•œåƒæºï¼ˆæ¨èï¼‰
```bash
npm install xh-gis
```

### æŒ‡å®šä½¿ç”¨æ·˜å®é•œåƒ
```bash
npm install xh-gis --registry=https://registry.npmmirror.com/
```

### ä½¿ç”¨pnpmå®‰è£…
```bash
pnpm add xh-gis
```

### ä½¿ç”¨yarnå®‰è£…
```bash
yarn add xh-gis
```

## ğŸ” éªŒè¯å‘å¸ƒç»“æœ

å‘å¸ƒå®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯ï¼š

1. **æ£€æŸ¥NPMå®˜ç½‘**
   - https://www.npmjs.com/package/@xh-gis/engine
   - https://www.npmjs.com/package/@xh-gis/widgets
   - https://www.npmjs.com/package/xh-gis

2. **æµ‹è¯•å®‰è£…**
   ```bash
   # åœ¨ä¸´æ—¶ç›®å½•æµ‹è¯•
   mkdir test-install && cd test-install
   npm init -y
   npm install xh-gis
   ```

3. **æµ‹è¯•å¯¼å…¥**
   ```javascript
   // test.js
   const { XgEarth } = require('xh-gis');
   console.log('XH-GIS å®‰è£…æˆåŠŸï¼');
   ```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç½‘ç»œé—®é¢˜**
   - å‘å¸ƒæ—¶éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥
   - å¦‚æœå‘å¸ƒå¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•

2. **ç‰ˆæœ¬åŒæ­¥**
   - ç¡®ä¿ä¸‰ä¸ªåŒ…çš„ç‰ˆæœ¬å·ä¿æŒä¸€è‡´
   - ä½¿ç”¨ `./version.sh` è„šæœ¬ç»Ÿä¸€æ›´æ–°ç‰ˆæœ¬

3. **ä¾èµ–å…³ç³»**
   - engineåŒ…å¿…é¡»å…ˆå‘å¸ƒæˆåŠŸ
   - widgetsåŒ…ä¾èµ–engineåŒ…
   - æ ¹åŒ…ä¾èµ–å‰ä¸¤ä¸ªåŒ…

4. **æƒé™æ£€æŸ¥**
   - ç¡®ä¿NPMè´¦æˆ·æœ‰å‘å¸ƒæƒé™
   - åŒ…åæ²¡æœ‰è¢«å…¶ä»–ç”¨æˆ·å ç”¨

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: ç™»å½•æ—¶æŠ¥é”™ "Unable to authenticate"
**A:** æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¡®ä¿èƒ½è®¿é—®NPMå®˜æ–¹æºï¼Œä½¿ç”¨ `./registry.sh test` æµ‹è¯•è¿æ¥ã€‚

### Q: å‘å¸ƒæ—¶æç¤ºåŒ…åå·²å­˜åœ¨
**A:** åŒ…åå¯èƒ½è¢«å ç”¨ï¼Œå¯ä»¥é€‰æ‹©ä¿®æ”¹åŒ…åæˆ–è”ç³»NPMæ”¯æŒã€‚

### Q: å‘å¸ƒååœ¨é•œåƒæºæ‰¾ä¸åˆ°åŒ…
**A:** é•œåƒæºåŒæ­¥éœ€è¦æ—¶é—´ï¼ˆé€šå¸¸10-30åˆ†é’Ÿï¼‰ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚

### Q: pnpm installå¤±è´¥
**A:** å°è¯•æ¸…é™¤ç¼“å­˜ï¼š
```bash
pnpm store prune
rm -rf node_modules
pnpm install
```

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹é”™è¯¯æ—¥å¿—è¯¦ç»†ä¿¡æ¯
2. æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€
3. ç¡®è®¤NPMè´¦æˆ·çŠ¶æ€
4. æäº¤GitHub Issue

---

ğŸ‰ ç¥ä½ å‘å¸ƒé¡ºåˆ©ï¼